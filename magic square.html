<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function formingMagicSquare(s) {
        // All possible magic squares of size 3
        const magicSquares = [
          [
            [8, 1, 6],
            [3, 5, 7],
            [4, 9, 2],
          ],
          [
            [6, 1, 8],
            [7, 5, 3],
            [2, 9, 4],
          ],
          [
            [4, 9, 2],
            [3, 5, 7],
            [8, 1, 6],
          ],
          [
            [2, 9, 4],
            [7, 5, 3],
            [6, 1, 8],
          ],
          [
            [8, 3, 4],
            [1, 5, 9],
            [6, 7, 2],
          ],
          [
            [4, 3, 8],
            [9, 5, 1],
            [2, 7, 6],
          ],
          [
            [6, 7, 2],
            [1, 5, 9],
            [8, 3, 4],
          ],
          [
            [2, 7, 6],
            [9, 5, 1],
            [4, 3, 8],
          ],
        ];

        // Calculate the cost of converting the given square to each of the magic squares
        // and return the minimum cost
        return magicSquares.reduce((cost, magicSquare) => {
          let currentCost = 0;
          for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
              currentCost += Math.abs(s[i][j] - magicSquare[i][j]);
            }
          }
          return Math.min(cost, currentCost);
        }, Infinity);
      }
    </script>
  </body>
</html>
